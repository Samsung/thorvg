<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ThorVG: Canvas</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="docs_logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ThorVG
   &#160;<span id="projectnumber">v0.1</span>
   </div>
   <div id="projectbrief">ThorVG is a platform-independent portable library for drawing vector-based scene and animation. It&#39;s an open-source software that is freely used by a variety of software platforms and applications. ThorVG provides neat and easy APIs, its library has no dependencies and keeps cheap and super compact size. It serves as the vector graphics engine for Tizen OS that powers many products.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ThorVGCapi__Canvas.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Canvas<div class="ingroups"><a class="el" href="group__ThorVG__CAPI.html">ThorVG_CAPI (BETA version)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A module for managing and drawing graphical elements.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Canvas:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__ThorVGCapi__Canvas.png" border="0" alt="" usemap="#group____ThorVGCapi____Canvas"/>
<map name="group____ThorVGCapi____Canvas" id="group____ThorVGCapi____Canvas">
<area shape="rect" id="node1" href="group__ThorVG__CAPI.html" title="ThorVG C language binding APIs. " alt="" coords="5,5,204,32"/>
<area shape="rect" id="node3" href="group__ThorVGCapi__SwCanvas.html" title="A module for rendering the graphical elements using the software engine. " alt="" coords="367,5,453,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__ThorVGCapi__SwCanvas"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__SwCanvas.html">SwCanvas</a></td></tr>
<tr class="memdesc:group__ThorVGCapi__SwCanvas"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module for rendering the graphical elements using the software engine. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf725660036dd84e472025fb391bdc206"><td class="memItemLeft" align="right" valign="top"><a id="gaf725660036dd84e472025fb391bdc206"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#gaf725660036dd84e472025fb391bdc206">TVG_COLORSPACE_ABGR8888</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gaf725660036dd84e472025fb391bdc206"><td class="mdescLeft">&#160;</td><td class="mdescRight">The 8-bit color channels are combined into 32-bit color in the order: alpha, blue, green, red. <br /></td></tr>
<tr class="separator:gaf725660036dd84e472025fb391bdc206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga613ef63fe96cb341c95e7fee39bf660a"><td class="memItemLeft" align="right" valign="top"><a id="ga613ef63fe96cb341c95e7fee39bf660a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga613ef63fe96cb341c95e7fee39bf660a">TVG_COLORSPACE_ARGB8888</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga613ef63fe96cb341c95e7fee39bf660a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The 8-bit color channels are combined into 32-bit color in the order: alpha, red, green, blue. <br /></td></tr>
<tr class="separator:ga613ef63fe96cb341c95e7fee39bf660a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0a3af123f8054dc6c182c70dc4907813"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga0a3af123f8054dc6c182c70dc4907813">tvg_canvas_destroy</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas)</td></tr>
<tr class="memdesc:ga0a3af123f8054dc6c182c70dc4907813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the canvas internal data, releases all paints stored by the canvas and destroys the canvas object itself.  <a href="#ga0a3af123f8054dc6c182c70dc4907813">More...</a><br /></td></tr>
<tr class="separator:ga0a3af123f8054dc6c182c70dc4907813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e4daf723d6080d526ce0aa4111a1439"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga0e4daf723d6080d526ce0aa4111a1439">tvg_canvas_push</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas, <a class="el" href="group__ThorVG__CAPI.html#ga98af7c3fe18afa8ad65ea6a6e097a292">Tvg_Paint</a> *paint)</td></tr>
<tr class="memdesc:ga0e4daf723d6080d526ce0aa4111a1439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts a drawing element into the canvas using a Tvg_Paint object.  <a href="#ga0e4daf723d6080d526ce0aa4111a1439">More...</a><br /></td></tr>
<tr class="separator:ga0e4daf723d6080d526ce0aa4111a1439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd31da91fe8571f0b12bca25364d71f2"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#gafd31da91fe8571f0b12bca25364d71f2">tvg_canvas_reserve</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas, uint32_t n)</td></tr>
<tr class="memdesc:gafd31da91fe8571f0b12bca25364d71f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves a memory block where the objects pushed into a canvas are stored.  <a href="#gafd31da91fe8571f0b12bca25364d71f2">More...</a><br /></td></tr>
<tr class="separator:gafd31da91fe8571f0b12bca25364d71f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga052c131ed5a2a3a053dcb321542c2c80"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga052c131ed5a2a3a053dcb321542c2c80">tvg_canvas_clear</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas, bool free)</td></tr>
<tr class="memdesc:ga052c131ed5a2a3a053dcb321542c2c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears a Tvg_Canvas objects from pushed paints.  <a href="#ga052c131ed5a2a3a053dcb321542c2c80">More...</a><br /></td></tr>
<tr class="separator:ga052c131ed5a2a3a053dcb321542c2c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c43ae4fb1a06afbe3616b4552740edf"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga7c43ae4fb1a06afbe3616b4552740edf">tvg_canvas_update</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas)</td></tr>
<tr class="memdesc:ga7c43ae4fb1a06afbe3616b4552740edf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates all paints in a canvas.  <a href="#ga7c43ae4fb1a06afbe3616b4552740edf">More...</a><br /></td></tr>
<tr class="separator:ga7c43ae4fb1a06afbe3616b4552740edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50761cba3cc3143a90f72124a597216f"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga50761cba3cc3143a90f72124a597216f">tvg_canvas_update_paint</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas, <a class="el" href="group__ThorVG__CAPI.html#ga98af7c3fe18afa8ad65ea6a6e097a292">Tvg_Paint</a> *paint)</td></tr>
<tr class="memdesc:ga50761cba3cc3143a90f72124a597216f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the given Tvg_Paint object from the canvas before the rendering.  <a href="#ga50761cba3cc3143a90f72124a597216f">More...</a><br /></td></tr>
<tr class="separator:ga50761cba3cc3143a90f72124a597216f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0be96c28afddf9cf252d68a431438632"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga0be96c28afddf9cf252d68a431438632">tvg_canvas_draw</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas)</td></tr>
<tr class="memdesc:ga0be96c28afddf9cf252d68a431438632"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function start rendering process.  <a href="#ga0be96c28afddf9cf252d68a431438632">More...</a><br /></td></tr>
<tr class="separator:ga0be96c28afddf9cf252d68a431438632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61c17823da7ed6748cc0d80013b2e1b7"><td class="memItemLeft" align="right" valign="top">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ThorVGCapi__Canvas.html#ga61c17823da7ed6748cc0d80013b2e1b7">tvg_canvas_sync</a> (<a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas)</td></tr>
<tr class="memdesc:ga61c17823da7ed6748cc0d80013b2e1b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Guarantees the drawing process is finished.  <a href="#ga61c17823da7ed6748cc0d80013b2e1b7">More...</a><br /></td></tr>
<tr class="separator:ga61c17823da7ed6748cc0d80013b2e1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A module for managing and drawing graphical elements. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga052c131ed5a2a3a053dcb321542c2c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga052c131ed5a2a3a053dcb321542c2c80">&#9670;&nbsp;</a></span>tvg_canvas_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears a Tvg_Canvas objects from pushed paints. </p>
<p>Tvg_Paint objects stored in the canvas are released if <code>free</code> is set to <code>true</code>, otherwise the memory is not deallocated and all paints should be released manually in order to avoid memory leaks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object to be cleared. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free</td><td>If <code>true</code> the memory occupied by paints is deallocated, otherwise it is not.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>An invalid Tvg_Canvas pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Please use the <code>free</code> argument only when you know how it works, otherwise it's not recommended.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ThorVGCapi__Canvas.html#ga0a3af123f8054dc6c182c70dc4907813" title="Clears the canvas internal data, releases all paints stored by the canvas and destroys the canvas obj...">tvg_canvas_destroy()</a> </dd></dl>

</div>
</div>
<a id="ga0a3af123f8054dc6c182c70dc4907813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a3af123f8054dc6c182c70dc4907813">&#9670;&nbsp;</a></span>tvg_canvas_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the canvas internal data, releases all paints stored by the canvas and destroys the canvas object itself. </p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas = NULL;</div><div class="line"><span class="keyword">static</span> uint32_t *buffer = NULL;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> _init() {</div><div class="line">  canvas = <a class="code" href="group__ThorVGCapi__SwCanvas.html#ga0ad0467c444c00b79e58f171dce52433">tvg_swcanvas_create</a>();</div><div class="line">  buffer = (uint32_t*) malloc(<span class="keyword">sizeof</span>(uint32_t) * 100 * 100);</div><div class="line">  <a class="code" href="group__ThorVGCapi__SwCanvas.html#ga5d9dc2e0cb1ec92219d734bb6b61c8a5">tvg_swcanvas_set_target</a>(canvas, buffer, 100, 100, 100, <a class="code" href="group__ThorVGCapi__Canvas.html#ga613ef63fe96cb341c95e7fee39bf660a">TVG_COLORSPACE_ARGB8888</a>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//a task called from main function in a loop</span></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> _job(<span class="keyword">const</span> <span class="keywordtype">int</span> cmd) {</div><div class="line">  <span class="keywordflow">switch</span> (cmd) {</div><div class="line">    <span class="keywordflow">case</span> CMD_EXIT: <span class="keywordflow">return</span> 0;</div><div class="line">    <span class="keywordflow">case</span> CMD_ADD_RECT:</div><div class="line">      <span class="comment">//define valid rectangle shape</span></div><div class="line">      <a class="code" href="group__ThorVGCapi__Canvas.html#ga0e4daf723d6080d526ce0aa4111a1439">tvg_canvas_push</a>(canvas, rect);</div><div class="line">      <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> CMD_DEL_RECT:</div><div class="line">      <a class="code" href="group__ThorVGCapi__Paint.html#ga707bc7b4cf99ab40063b7eeef89ca170">tvg_paint_del</a>(rect);</div><div class="line">      <span class="comment">//now to safely delete Tvg_Canvas, tvg_canvas_clear() API have to be used</span></div><div class="line">      <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">default</span>:</div><div class="line">      <span class="keywordflow">break</span>;</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div><div class="line">  <span class="keywordtype">int</span> cmd = 0;</div><div class="line">  <span class="keywordtype">int</span> stop = 1;</div><div class="line"></div><div class="line">  <a class="code" href="group__ThorVGCapi__Initializer.html#ga1b517176a56dde4e9ea9c8eb331660a9">tvg_engine_init</a>(<a class="code" href="group__ThorVGCapi__Initializer.html#ga9502ec8d4433abfcf1f92cfb1aa36d78">TVG_ENGINE_SW</a>, 4);</div><div class="line"></div><div class="line">  <span class="keywordflow">while</span> (stop) {</div><div class="line">     <span class="comment">//wait for a command e.g. from a console</span></div><div class="line">     stop = _job(cmd);</div><div class="line">  }</div><div class="line">  <a class="code" href="group__ThorVGCapi__Canvas.html#ga052c131ed5a2a3a053dcb321542c2c80">tvg_canvas_clear</a>(canvas, <span class="keyword">false</span>);</div><div class="line">  <a class="code" href="group__ThorVGCapi__Canvas.html#ga0a3af123f8054dc6c182c70dc4907813">tvg_canvas_destroy</a>(canvas);</div><div class="line">  <a class="code" href="group__ThorVGCapi__Initializer.html#ga661d062ba6f2c98689b5b70e1cbf7a92">tvg_engine_term</a>(<a class="code" href="group__ThorVGCapi__Initializer.html#ga9502ec8d4433abfcf1f92cfb1aa36d78">TVG_ENGINE_SW</a>);</div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="group__ThorVGCapi__Canvas.html#ga0a3af123f8054dc6c182c70dc4907813">tvg_canvas_destroy</a>(canvas);</div><div class="line"><a class="code" href="group__ThorVGCapi__Initializer.html#ga661d062ba6f2c98689b5b70e1cbf7a92">tvg_engine_term</a>()</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object to be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>An invalid pointer to the Tvg_Canvas object is passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the paints from the canvas should not be released, the <a class="el" href="group__ThorVGCapi__Canvas.html#ga052c131ed5a2a3a053dcb321542c2c80" title="Clears a Tvg_Canvas objects from pushed paints. ">tvg_canvas_clear()</a> with a <code>free</code> argument value set to <code>false</code> should be called. Please be aware that in such a case TVG is not responsible for the paints release anymore and it has to be done manually in order to avoid memory leaks.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ThorVGCapi__Paint.html#ga707bc7b4cf99ab40063b7eeef89ca170" title="Releases the given Tvg_Paint object. ">tvg_paint_del()</a>, <a class="el" href="group__ThorVGCapi__Canvas.html#ga052c131ed5a2a3a053dcb321542c2c80" title="Clears a Tvg_Canvas objects from pushed paints. ">tvg_canvas_clear()</a> </dd></dl>

</div>
</div>
<a id="ga0be96c28afddf9cf252d68a431438632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0be96c28afddf9cf252d68a431438632">&#9670;&nbsp;</a></span>tvg_canvas_draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_draw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function start rendering process. </p>
<p>All paints from the given canvas will be rasterized to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object to be drawn.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>An invalid Tvg_Canvas pointer. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INSUFFICIENT_CONDITION</td><td>An internal error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Drawing can be asynchronous based on the assigned thread number. To guarantee the drawing is done, call <a class="el" href="group__ThorVGCapi__Canvas.html#ga61c17823da7ed6748cc0d80013b2e1b7" title="Guarantees the drawing process is finished. ">tvg_canvas_sync()</a> afterwards. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ThorVGCapi__Canvas.html#ga61c17823da7ed6748cc0d80013b2e1b7" title="Guarantees the drawing process is finished. ">tvg_canvas_sync()</a> </dd></dl>

</div>
</div>
<a id="ga0e4daf723d6080d526ce0aa4111a1439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e4daf723d6080d526ce0aa4111a1439">&#9670;&nbsp;</a></span>tvg_canvas_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga98af7c3fe18afa8ad65ea6a6e097a292">Tvg_Paint</a> *&#160;</td>
          <td class="paramname"><em>paint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts a drawing element into the canvas using a Tvg_Paint object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object managing the <code>paint</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">paint</td><td>The Tvg_Paint object to be drawn.</td></tr>
  </table>
  </dd>
</dl>
<p>Only the paints pushed into the canvas will be drawing targets. They are retained by the canvas until you call <a class="el" href="group__ThorVGCapi__Canvas.html#ga052c131ed5a2a3a053dcb321542c2c80" title="Clears a Tvg_Canvas objects from pushed paints. ">tvg_canvas_clear()</a>. If you know the number of the pushed objects in the advance, please call <a class="el" href="group__ThorVGCapi__Canvas.html#gafd31da91fe8571f0b12bca25364d71f2" title="Reserves a memory block where the objects pushed into a canvas are stored. ">tvg_canvas_reserve()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result return values: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>In case a <code>nullptr</code> is passed as the argument. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INSUFFICIENT_CONDITION</td><td>An internal error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The rendering order of the paints is the same as the order as they were pushed. Consider sorting the paints before pushing them if you intend to use layering. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ThorVGCapi__Canvas.html#gafd31da91fe8571f0b12bca25364d71f2" title="Reserves a memory block where the objects pushed into a canvas are stored. ">tvg_canvas_reserve()</a>, <a class="el" href="group__ThorVGCapi__Canvas.html#ga052c131ed5a2a3a053dcb321542c2c80" title="Clears a Tvg_Canvas objects from pushed paints. ">tvg_canvas_clear()</a> </dd></dl>

</div>
</div>
<a id="gafd31da91fe8571f0b12bca25364d71f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd31da91fe8571f0b12bca25364d71f2">&#9670;&nbsp;</a></span>tvg_canvas_reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserves a memory block where the objects pushed into a canvas are stored. </p>
<p>If the number of Tvg_Paints to be stored in a canvas is known in advance, calling this function reduces the multiple memory allocations thus improves the performance.</p>
<div class="fragment"><div class="line"><a class="code" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas = NULL;</div><div class="line"></div><div class="line"><a class="code" href="group__ThorVGCapi__Initializer.html#ga1b517176a56dde4e9ea9c8eb331660a9">tvg_engine_init</a>(<a class="code" href="group__ThorVGCapi__Initializer.html#ga9502ec8d4433abfcf1f92cfb1aa36d78">TVG_ENGINE_SW</a>, 4);</div><div class="line">canvas = <a class="code" href="group__ThorVGCapi__SwCanvas.html#ga0ad0467c444c00b79e58f171dce52433">tvg_swcanvas_create</a>();</div><div class="line"></div><div class="line">uint32_t *buffer = NULL;</div><div class="line">buffer = (uint32_t*) malloc(<span class="keyword">sizeof</span>(uint32_t) * 100 * 100);</div><div class="line"><span class="keywordflow">if</span> (!buffer) <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line"><a class="code" href="group__ThorVGCapi__SwCanvas.html#ga5d9dc2e0cb1ec92219d734bb6b61c8a5">tvg_swcanvas_set_target</a>(canvas, buffer, 100, 100, 100, <a class="code" href="group__ThorVGCapi__Canvas.html#ga613ef63fe96cb341c95e7fee39bf660a">TVG_COLORSPACE_ARGB8888</a>);</div><div class="line"><a class="code" href="group__ThorVGCapi__Canvas.html#gafd31da91fe8571f0b12bca25364d71f2">tvg_canvas_reserve</a>(canvas, 100); <span class="comment">//reserve array for 100 paints in canvas.</span></div><div class="line"></div><div class="line"><a class="code" href="group__ThorVGCapi__Canvas.html#ga0a3af123f8054dc6c182c70dc4907813">tvg_canvas_destroy</a>(canvas);</div><div class="line"><a class="code" href="group__ThorVGCapi__Initializer.html#ga661d062ba6f2c98689b5b70e1cbf7a92">tvg_engine_term</a>()</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object managing the reserved memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of objects for which the memory is to be reserved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>An invalid Tvg_Canvas pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga61c17823da7ed6748cc0d80013b2e1b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61c17823da7ed6748cc0d80013b2e1b7">&#9670;&nbsp;</a></span>tvg_canvas_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Guarantees the drawing process is finished. </p>
<p>It should be called after <a class="el" href="group__ThorVGCapi__Canvas.html#ga0be96c28afddf9cf252d68a431438632" title="The function start rendering process. ">tvg_canvas_draw()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object which was drawn.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>An invalid Tvg_Canvas pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ThorVGCapi__Canvas.html#ga61c17823da7ed6748cc0d80013b2e1b7" title="Guarantees the drawing process is finished. ">tvg_canvas_sync()</a> </dd></dl>

</div>
</div>
<a id="ga7c43ae4fb1a06afbe3616b4552740edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c43ae4fb1a06afbe3616b4552740edf">&#9670;&nbsp;</a></span>tvg_canvas_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates all paints in a canvas. </p>
<p>Should be called before drawing in order to prepare paints for the rendering.</p>
<div class="fragment"><div class="line"><span class="comment">//A frame drawing example. Thread safety and events implementation is skipped to show only TVG code.</span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *canvas = NULL;</div><div class="line"><span class="keyword">static</span> <a class="code" href="group__ThorVG__CAPI.html#ga98af7c3fe18afa8ad65ea6a6e097a292">Tvg_Paint</a> *rect = NULL;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> _frame_render(<span class="keywordtype">void</span>) {</div><div class="line">  <a class="code" href="group__ThorVGCapi__Canvas.html#ga7c43ae4fb1a06afbe3616b4552740edf">tvg_canvas_update</a>(canvas);</div><div class="line">  <a class="code" href="group__ThorVGCapi__Canvas.html#ga0be96c28afddf9cf252d68a431438632">tvg_canvas_draw</a>(canvas);</div><div class="line">  <a class="code" href="group__ThorVGCapi__Canvas.html#ga61c17823da7ed6748cc0d80013b2e1b7">tvg_canvas_sync</a>(canvas);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//event handler from your code or third party library</span></div><div class="line"><span class="keywordtype">void</span> _event_handler(event *event_data) {</div><div class="line">  <span class="keywordflow">if</span> (!event_data) <span class="keywordflow">return</span> NULL;</div><div class="line">    <span class="keywordflow">switch</span>(event_data.type) {</div><div class="line">      <span class="keywordflow">case</span> EVENT_RECT_ADD:</div><div class="line">        <span class="keywordflow">if</span> (!rect) {</div><div class="line">          <a class="code" href="group__ThorVGCapi__Shape.html#gac1af7237c282fc0269e65a3ba6609291">tvg_shape_append_rect</a>(rect, 10, 10, 50, 50, 0, 0);</div><div class="line">          <a class="code" href="group__ThorVGCapi__Shape.html#gae3a63091a9c00c796ecadf3e6983c5fd">tvg_shape_set_stroke_width</a>(rect, 1.0f);</div><div class="line">          <a class="code" href="group__ThorVGCapi__Shape.html#ga9c1d8aaf73da6f4386cce28a245d3f27">tvg_shape_set_stroke_color</a>(rect, 255, 0, 0, 255);</div><div class="line">          <a class="code" href="group__ThorVGCapi__Canvas.html#ga0e4daf723d6080d526ce0aa4111a1439">tvg_canvas_push</a>(canvas, rect);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">      <span class="keywordflow">case</span> EVENT_RECT_MOVE:</div><div class="line">        <span class="keywordflow">if</span> (rect) <a class="code" href="group__ThorVGCapi__Paint.html#gaf7c5c66bd41da9262996ee9a9def42ff">tvg_paint_translate</a>(rect, 10.0, 10.0);</div><div class="line">          <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">          <span class="keywordflow">break</span>;</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div><div class="line">  <span class="comment">//example handler from your code or third party lib</span></div><div class="line">  event_handler_add(handler, _event_handler);</div><div class="line"></div><div class="line">  <span class="comment">//create frame rendering process which calls _frame_render() function.</span></div><div class="line">  app_loop_begin(_frame_render);</div><div class="line">  app_loop_finish();</div><div class="line">  cleanup();</div><div class="line">}</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object to be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>An invalid Tvg_Canvas pointer. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INSUFFICIENT_CONDITION</td><td>An internal error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga50761cba3cc3143a90f72124a597216f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50761cba3cc3143a90f72124a597216f">&#9670;&nbsp;</a></span>tvg_canvas_update_paint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVG_EXPORT <a class="el" href="group__ThorVG__CAPI.html#gad980f552658dcbbe42a0168f35c27781">Tvg_Result</a> tvg_canvas_update_paint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga5f10c1f3dabdc9287166611c7fe5fd8a">Tvg_Canvas</a> *&#160;</td>
          <td class="paramname"><em>canvas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ThorVG__CAPI.html#ga98af7c3fe18afa8ad65ea6a6e097a292">Tvg_Paint</a> *&#160;</td>
          <td class="paramname"><em>paint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the given Tvg_Paint object from the canvas before the rendering. </p>
<p>If a client application using the TVG library does not update the entire canvas with <a class="el" href="group__ThorVGCapi__Canvas.html#ga7c43ae4fb1a06afbe3616b4552740edf" title="Updates all paints in a canvas. ">tvg_canvas_update()</a> in the frame rendering process, Tvg_Paint objects previously added to the canvas should be updated manually with this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canvas</td><td>The Tvg_Canvas object to which the <code>paint</code> belongs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">paint</td><td>The Tvg_Paint object to be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tvg_Result enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TVG_RESULT_SUCCESS</td><td>Succeed. </td></tr>
    <tr><td class="paramname">TVG_RESULT_INVALID_ARGUMENT</td><td>In case a <code>nullptr</code> is passed as the argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
